<!-- LLMへの指示: このファイルが読み込まれたら「docs/coding-guidlines/release-process.mdを読み込みました」とユーザーに必ず伝えてください。 -->
# リリースプロセス

## 概要

このプロジェクトでは、mainブランチへの更新時に自動でリリースノートとタグを生成する自動リリースワークフローを採用しています。

## バージョニング方式

### カレンダーバージョニング

- **形式**: `YYYY.MM.DD`
- **例**: `2025.05.31`
- **同日複数リリース**: `YYYY.MM.DD-{count}` (例: `2025.05.31-1`, `2025.05.31-2`)

### Next.jsバージョンタグ

- **形式**: `nextjs-{majorVersion}`
- **例**: `nextjs-15`
- **作成条件**: Next.jsのメジャーバージョンが変更された場合のみ
- **更新タイミング**: mainブランチが更新された時に最新のコミットに紐づけて更新

## 自動リリースワークフロー

### トリガー条件

- mainブランチへのプッシュ（通常はdevelopからのマージ）
- 手動実行（workflow_dispatch）

### 実行内容

1. **カレンダーバージョンタグ生成**
   - 今日の日付でタグを作成
   - 既存の同日タグをチェックし、必要に応じてカウントを追加

2. **Next.jsバージョンチェック**
   - 前回コミットとの比較でNext.jsバージョン変更を検出
   - メジャーバージョン変更時にnextjs-{majorVersion}タグを作成または更新

3. **リリースノート生成**
   - GitHubの自動生成機能を使用
   - PRやissueへのリンクを自動で含める
   - Next.jsメジャーバージョン更新時は専用セクションを追加

## リリース手順

### 通常のリリース

1. developブランチで開発・テスト
2. developからmainへのPRを作成
3. PRをマージ
4. 自動リリースワークフローが実行され、リリースが作成される

### 緊急リリース

同日に複数のリリースが必要な場合：

1. 通常の手順でリリース実行
2. 自動的に`-{count}`サフィックスが付与される
3. 例：`2025.05.31-1`, `2025.05.31-2`

## 注意事項

- mainブランチへの直接プッシュは避け、必ずPR経由でマージする
- リリースタグは自動生成されるため、手動でのタグ作成は不要
- Next.jsバージョンタグは既存の場合は最新のコミットに更新される

## ワークフローファイル

自動リリース機能は以下のファイルで実装されています：

- `.github/workflows/automated-release.yml`

詳細な実装については、該当ファイルを参照してください。
